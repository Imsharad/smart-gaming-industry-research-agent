# ğŸš« Agent Anti-Patterns Visual Guide

> **Purpose**: A visual reference for LLMs to generate educational slides and infographics about common agent development mistakes.

## ğŸ“Š Executive Summary

**Total Failures Analyzed**: 5

| Category | Count | Impact Level |
|----------|-------|--------------|
| ğŸ”€ ğŸ“¤ Output Format Mismatch | 2 | ğŸŸ¢ Low |
| âš ï¸ ğŸ”¤ String Matching Pitfalls | 2 | ğŸŸ¢ Low |
| ğŸ“‹ ğŸ“ Missing Documentation | 1 | ğŸŸ¢ Low |

## ğŸ—ºï¸ Anti-Pattern Landscape

```mermaid
mindmap
  root((Agent\nAnti-Patterns))
    ğŸ“¤ Output Format Mismatch
      While your code implementation...
      Currently, the agent's 'reason...
    ğŸ”¤ String Matching Pitfalls
      The current agent does not mai...
      It appears you have submitted ...
    ğŸ“ Missing Documentation
      using an EphemeralClient means...
```

---

## ğŸ”€ ğŸ“¤ Output Format Mismatch

> Response formats that don't match downstream parser expectations

### ğŸ“ˆ Frequency Distribution

```
While your code implementation looks cor â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (1)
Currently, the agent's "reasoning" outpu â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (1)
```

### ğŸƒ Top Anti-Patterns

#### 1. Failure Reason

**Impact**: ğŸŸ¢ 1 students affected (Criterion 1)

**What went wrong**:
> While your code implementation looks correct, I noticed that the notebook cells have not been executed (the output cells are empty)

**Why this breaks the agent**:
> While your code implementation looks correct, I noticed that the notebook cells have not been executed (the output cells are empty). For a code review, we need to see the execution outputs to verify that the code actually runs and produces the expected results, especially for the semantic search dem

**âœ… Correct Pattern**:
```yaml
# âœ… CORRECT: Match the exact expected format from rubric
OUTPUT_FORMAT:
  - Use "IS_COMPATIBLE" (not "COMPATIBLE")
  - Use "IS_INCOMPATIBLE" (not "INCOMPATIBLE")
  
EXAMPLES:
  - Input: "Outdoor hiking" + "Heavy Rain"
    Output: "IS_INCOMPATIBLE: Heavy rain makes trails dangerous"
```

**ğŸ’¡ Visual Metaphor**:
> Like speaking French to a Spanish parser - technically language, but nothing gets through.

---

#### 2. Failure Reason

**Impact**: ğŸŸ¢ 1 students affected (Criterion 4)

**What went wrong**:
> Currently, the agent's "reasoning" output is a hardcoded string (`f"The query asks for

**Why this breaks the agent**:
> Currently, the agent's "reasoning" output is a hardcoded string (`f"The query asks for... I will use..."`) rather than an actual thought trace generated by an LLM. For this criterion, we need to see the agent's *actual* decision-making processâ€”showing how the LLM decided which tool to use based on t

**âœ… Correct Pattern**:
```yaml
# âœ… CORRECT: Match the exact expected format from rubric
OUTPUT_FORMAT:
  - Use "IS_COMPATIBLE" (not "COMPATIBLE")
  - Use "IS_INCOMPATIBLE" (not "INCOMPATIBLE")
  
EXAMPLES:
  - Input: "Outdoor hiking" + "Heavy Rain"
    Output: "IS_INCOMPATIBLE: Heavy rain makes trails dangerous"
```

**ğŸ’¡ Visual Metaphor**:
> Like speaking French to a Spanish parser - technically language, but nothing gets through.

---

---

## âš ï¸ ğŸ”¤ String Matching Pitfalls

> Logic errors where substring matching causes false positives/negatives

### ğŸ“ˆ Frequency Distribution

```
The current agent does not maintain memo â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (1)
It appears you have submitted the starte â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (1)
```

### ğŸƒ Top Anti-Patterns

#### 1. Failure Reason

**Impact**: ğŸŸ¢ 1 students affected (Criterion 3)

**What went wrong**:
> The current agent does not maintain memory of the conversation history, which is a requirement for this criterion

**Why this breaks the agent**:
> The current agent does not maintain memory of the conversation history, which is a requirement for this criterion. It processes each query in isolation. Additionally, the citation logic needs to be dynamically extracted from the retrieval tool's output, rather than just returning a placeholder or a 

**âœ… Correct Pattern**:
```python
# âœ… CORRECT: Check for negative case first
if "INCOMPAT" in normalized_resp:
    is_compatible = False
elif "COMPAT" in normalized_resp:
    is_compatible = True

# âœ… BETTER: Use exact matching
if normalized_resp == "IS_COMPATIBLE":
    is_compatible = True
elif normalized_resp == "IS_INCOMPATIBLE":
    is_compatible = False
```

**ğŸ’¡ Visual Metaphor**:
> Like a bouncer checking IDs who lets in anyone whose name *contains* 'VIP' - including 'NOT_VIP'!

---

#### 2. Failure Reason

**Impact**: ğŸŸ¢ 1 students affected (Criterion 2)

**What went wrong**:
> It appears you have submitted the starter project without implementing the required `retrieve_game` and `evaluate_retrieval` tools

**Why this breaks the agent**:
> It appears you have submitted the starter project without implementing the required `retrieve_game` and `evaluate_retrieval` tools. These are essential for your agent to access the game data you prepared in Part 1 and to quality-check its own retrieval.

**âœ… Correct Pattern**:
```python
# âœ… CORRECT: Check for negative case first
if "INCOMPAT" in normalized_resp:
    is_compatible = False
elif "COMPAT" in normalized_resp:
    is_compatible = True

# âœ… BETTER: Use exact matching
if normalized_resp == "IS_COMPATIBLE":
    is_compatible = True
elif normalized_resp == "IS_INCOMPATIBLE":
    is_compatible = False
```

**ğŸ’¡ Visual Metaphor**:
> Like a bouncer checking IDs who lets in anyone whose name *contains* 'VIP' - including 'NOT_VIP'!

---

---

## ğŸ“‹ ğŸ“ Missing Documentation

> Tool docstrings lacking critical information for LLM understanding

### ğŸ“ˆ Frequency Distribution

```
using an EphemeralClient means your vect â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (1)
```

### ğŸƒ Top Anti-Patterns

#### 1. using an EphemeralClient means your vector databas

**Impact**: ğŸŸ¢ 1 students affected (Criterion 1)

**What went wrong**:
> using an EphemeralClient means your vector database won't persist between sessions. The project explicitly requires persistent storage so the RAG system can be reused.

**Why this breaks the agent**:
> Your submission is missing the required **Udaplay_01_solution_project.ipynb** notebook that should demonstrate the RAG pipeline setup with data loading, vector database creation, and semantic search capabilities. While your Udaplay_02 notebook shows you embedded some vector database code inline, thi...

**âœ… Correct Pattern**:
```python
# âœ… CORRECT: Comprehensive docstring with format specification
def get_activities_by_date_tool(date: str, city: str) -> List[Activity]:
    """Retrieves available activities for a specific date and city.
    
    Args:
        date (str): Target date in YYYY-MM-DD format (e.g., "2025-06-12")
        city (str): City name (e.g., "AgentsVille")
    
    Returns:
        List[Activity]: Available activities matching criteria
    
    Example:
        >>> get_activities_by_date_tool("2025-06-12", "AgentsVille")
        [Activity(id="A001", name="Museum Tour", ...)]
    """
```

**ğŸ’¡ Visual Metaphor**:
> Like giving someone a map with no labels - they'll guess where to go and probably get lost.

---

## ğŸ¨ Slide Generation Hints

When generating slides from this document:

1. **Title Slide**: Use the executive summary statistics
2. **Category Slides**: One slide per category with the mindmap subsection
3. **Deep Dive Slides**: Before/After code comparisons with visual metaphors
4. **Impact Slides**: Use frequency bars to show which issues are most common
5. **Takeaway Slide**: Summarize the top 3 anti-patterns to avoid

### Color Coding Reference

| Color | Meaning |
|-------|--------|
| ğŸ”´ Red | Critical issue (>100 occurrences) |
| ğŸŸ¡ Yellow | Moderate issue (20-100 occurrences) |
| ğŸŸ¢ Green | Low frequency (<20 occurrences) |
