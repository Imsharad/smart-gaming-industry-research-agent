<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building Agents with Claude Agent SDK</title>

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">

    <!-- ICONS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* CORE VARIABLES */
        :root {
            --bg-dark: #0f172a;
            --bg-accent: #1e293b;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --accent-coral: #ea580c;
            --accent-blue: #2563eb;
            --accent-green: #16a34a;
            --accent-red: #dc2626;
            --border-color: #cbd5e1;
            --scale: 1;
        }

        * {
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-dark);
            /* Tech Grid Background */
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Subtle Glow in Background */
        body::before {
            content: '';
            position: absolute;
            width: 60vw;
            height: 60vh;
            background: radial-gradient(circle, rgba(234, 88, 12, 0.15) 0%, rgba(0, 0, 0, 0) 70%);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: -1;
            pointer-events: none;
        }

        /* SLIDE CONTAINER - Glassmorphism */
        .slide-container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            box-shadow:
                0 0 0 1px rgba(255, 255, 255, 0.1),
                0 20px 50px rgba(0, 0, 0, 0.5);
            display: none;
            flex-direction: column;
            width: 1280px;
            height: 720px;
            padding: 60px 80px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            overflow: hidden;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(var(--scale));
            transform-origin: center center;

            /* Entry Animation */
            opacity: 0;
            transition: opacity 0.4s ease, transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .slide-container.active {
            display: flex;
            opacity: 1;
            animation: slideIn 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translate(-50%, -45%) scale(calc(var(--scale) * 0.95));
            }

            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(var(--scale));
            }
        }

        .slide-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--accent-coral) 0%, #fcd34d 50%, var(--accent-blue) 100%);
            z-index: 2;
        }

        /* SECTION DIVIDER */
        .slide-container.section-divider {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.1);
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .slide-container.section-divider h1 {
            color: white;
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .slide-container.section-divider .subtitle {
            color: #94a3b8;
            font-weight: 300;
        }

        .slide-container.section-divider::before {
            display: none;
        }

        /* TYPOGRAPHY */
        h1,
        h2,
        h3 {
            font-family: 'Merriweather', serif;
            font-weight: 800;
            color: var(--text-primary);
            letter-spacing: -0.02em;
            margin: 0;
        }

        h1 {
            font-size: 56px;
            line-height: 1.1;
            margin-bottom: 20px;
        }

        .slide-title {
            font-size: 42px;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f1f5f9;
            width: 100%;
            color: #0f172a;
        }

        p,
        li,
        table {
            font-family: 'Inter', sans-serif;
            font-size: 20px;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .subtitle {
            font-family: 'Merriweather', serif;
            font-style: italic;
            font-size: 28px;
            color: #64748b;
        }

        /* CODE BLOCKS */
        pre {
            background: #0f172a;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 12px;
            font-family: 'Fira Code', monospace;
            font-size: 15px;
            overflow-x: auto;
            border-left: 5px solid var(--accent-coral);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        code {
            font-family: 'Fira Code', monospace;
        }

        .inline-code {
            background: #f1f5f9;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.9em;
            color: var(--accent-coral);
            font-weight: 600;
            font-family: 'Fira Code', monospace;
            border: 1px solid #e2e8f0;
        }

        /* LAYOUTS */
        .content-area {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            justify-content: center;
            width: 100%;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            width: 100%;
            align-items: center;
            height: 100%;
        }

        .tiled-content {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            width: 100%;
        }

        /* COMPONENTS */
        .tile {
            background-color: #ffffff;
            border-radius: 16px;
            padding: 35px;
            border: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            height: 100%;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .tile:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border-color: var(--accent-coral);
        }

        .tile .icon {
            font-size: 36px;
            color: var(--accent-coral);
            margin-bottom: 20px;
        }

        .tile h3 {
            font-size: 22px;
            margin-bottom: 12px;
            color: var(--text-primary);
            font-weight: 700;
        }

        .tile p {
            font-size: 17px;
            margin: 0;
            color: var(--text-secondary);
        }

        .tag {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 100px;
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-right: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .tag-coral {
            background: #fff7ed;
            color: #c2410c;
            border: 1px solid #ffedd5;
        }

        .metric-box {
            text-align: center;
            padding: 30px;
            background: #ffffff;
            border-radius: 16px;
            border: 1px solid #e2e8f0;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
        }

        .metric-number {
            font-size: 48px;
            font-weight: 800;
            color: var(--accent-coral);
            letter-spacing: -1px;
        }

        .metric-label {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #94a3b8;
            font-weight: 600;
            margin-top: 5px;
        }

        /* LISTS (Clean) */
        ul.clean-list {
            list-style: none;
            padding: 0;
        }

        ul.clean-list li {
            margin-bottom: 18px;
            display: flex;
            align-items: flex-start;
            gap: 15px;
            font-size: 18px;
        }

        ul.clean-list li i {
            margin-top: 5px;
        }

        /* FOOTER */
        .slide-footer {
            position: absolute;
            bottom: 25px;
            left: 80px;
            right: 80px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            color: #94a3b8;
            font-family: 'Inter', sans-serif;
            border-top: 1px solid #f1f5f9;
            padding-top: 20px;
        }

        .brand-name {
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        /* NAVIGATION CONTROLS */
        .nav-controls {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 1000;
            background: rgba(15, 23, 42, 0.8);
            padding: 12px 24px;
            border-radius: 100px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .nav-btn {
            background: transparent;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
            padding: 5px 10px;
            opacity: 0.7;
            transition: all 0.2s;
        }

        .nav-btn:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        .slide-counter {
            color: white;
            display: flex;
            align-items: center;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            margin: 0 10px;
            font-weight: 600;
        }

        /* DIAGRAM BOX STYLES */
        .diagram-box {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            font-weight: 600;
            color: #1e293b;
        }

        /* DIAGRAM STYLES */
        .agent-arch {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            font-family: 'Fira Code', monospace;
        }

        .agent-box {
            border: 2px solid var(--text-primary);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            background: #fff;
            min-width: 140px;
            box-shadow: 0 4px 0 var(--text-primary);
            font-size: 14px;
            z-index: 2;
        }

        .agent-box.core {
            border-color: var(--accent-coral);
            color: var(--accent-coral);
            box-shadow: 0 4px 0 var(--accent-coral);
        }

        .agent-arrow {
            font-size: 18px;
            color: #57534e;
        }

        /* NEW VISUAL STYLES FOR DIAGRAMS */
        .visual-flow {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .visual-node {
            padding: 15px 30px;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
            position: relative;
            min-width: 250px;
        }

        .visual-arrow-down {
            color: #cbd5e1;
            font-size: 20px;
        }

        .node-input {
            background: #fef2f2;
            border: 2px solid #fecaca;
            color: #dc2626;
        }

        .node-hook {
            background: #fff7ed;
            border: 2px solid #f97316;
            color: #c2410c;
            border-radius: 100px;
            /* Pill shape */
        }

        .node-output {
            background: #f0fdf4;
            border: 2px solid #86efac;
            color: #16a34a;
        }

        .comparison-card {
            background: #fff;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 30px;
            flex: 1;
            height: 100%;
        }

        .comparison-card.external {
            background: #fafafa;
        }

        .comparison-card.in-process {
            border: 2px solid var(--accent-coral);
            background: #fff;
        }

        .check-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            font-size: 18px;
        }

        .check-icon {
            color: var(--accent-green);
        }

        .cross-icon {
            color: var(--accent-red);
        }

        .process-box {
            border: 2px solid var(--accent-coral);
            border-radius: 16px;
            padding: 40px;
            position: relative;
            background: #fff7ed;
        }

        .process-label {
            position: absolute;
            top: -14px;
            left: 50%;
            transform: translateX(-50%);
            background: #fff;
            padding: 0 15px;
            color: var(--accent-coral);
            font-weight: bold;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .internal-flow {
            display: flex;
            align-items: center;
            justify-content: space-around;
            gap: 20px;
        }

        .internal-node {
            background: #fff;
            border: 2px solid #cbd5e1;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            width: 160px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .internal-node.highlight {
            border-color: var(--accent-green);
        }

        .internal-node.memory {
            border-style: dashed;
            border-color: var(--accent-blue);
            background: #eff6ff;
        }

        .flow-arrow {
            color: var(--accent-green);
            font-size: 24px;
            font-weight: bold;
        }

        .shared-state-container {
            display: flex;
            gap: 40px;
            align-items: center;
            justify-content: center;
        }

        .state-box {
            border: 1px dashed #cbd5e1;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            background: #f8fafc;
        }

        .state-box.highlight {
            border: 2px solid var(--accent-coral);
            background: #fff;
        }

    </style>
</head>

<body><!-- CONTROLS --><div class="nav-controls"><button class="nav-btn" onclick="prevSlide()"><i class="fas fa-arrow-left"></i></button><span class="slide-counter" id="slideCounter"></span><button class="nav-btn" onclick="nextSlide()"><i class="fas fa-arrow-right"></i></button></div><!-- TEMPLATE FOR FOOTER (JS will inject) --><div id="footer-template" style="display:none;"><div class="slide-footer"><span class="brand-name">Sharad Jain | https: //sharadja.in</span>
        <span class="page-num"></span></div></div><!-- SLIDE 1: Title --><div class="slide-container active"><div class="content-area" style="text-align: center; align-items: center;"><div style="margin-bottom: 25px; letter-spacing: 3px; text-transform: uppercase; font-size: 14px; color: #64748b; font-weight: 700;">Anthropic Solution Engineering</div><h1 style="background: linear-gradient(135deg, #1e293b 0%, #475569 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Building Intelligent Agents<br>with Claude Agent SDK</h1><p class="subtitle" style="margin-top: 20px;">Architecting the "Rei" Engine in Python</p><div style="margin-top: 50px;"><span class="tag tag-coral">Python SDK</span><span class="tag tag-coral">Agentic Workflow</span><span class="tag tag-coral">Enterprise Harness</span></div></div></div><!-- SLIDE 2: The Shift --><div class="slide-container"><h2 class="slide-title">The Shift: Chat vs. Agents</h2><div class="content-area"><div class="two-column"><div><h3 style="color: #64748b; margin-bottom: 20px;">Stateless Chat</h3><p>Standard API interactions are stateless. You send a prompt,
        you get a completion. Logic lives in your application code.</p><ul class="clean-list" style="margin-top: 30px;"><li><i class="fas fa-times" style="color: #cbd5e1;"></i>Complex state management on client</li><li><i class="fas fa-times" style="color: #cbd5e1;"></i>Tool execution requires external loops </li><li><i class="fas fa-times" style="color: #cbd5e1;"></i>Hard to "contain" mid-flight</li></ul></div><div style="background: #f8fafc; padding: 40px; border-radius: 20px; border: 1px solid #e2e8f0;"><h3 style="color: var(--accent-coral); margin-bottom: 20px;">The Agentic Model (SDK)</h3><p style="font-size: 18px; margin-bottom: 30px;">The SDK brings the "Loop" inside. It allows Claude to:</p><div style="display: flex; gap: 15px; flex-direction: column;"><div style="background: white; padding: 15px 20px; border-radius: 10px; display: flex; align-items: center; gap: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);"><div style="background: #fff7ed; padding: 8px; border-radius: 8px; color: var(--accent-coral);"><i class="fas fa-brain"></i></div><strong>Plan & Reason</strong></div><div style="background: white; padding: 15px 20px; border-radius: 10px; display: flex; align-items: center; gap: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);"><div style="background: #eff6ff; padding: 8px; border-radius: 8px; color: var(--accent-blue);"><i class="fas fa-tools"></i></div><strong>Execute Tools (In-Process)</strong></div><div style="background: white; padding: 15px 20px; border-radius: 10px; display: flex; align-items: center; gap: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);"><div style="background: #f0fdf4; padding: 8px; border-radius: 8px; color: var(--accent-green);"><i class="fas fa-shield-alt"></i></div><strong>Adhere to Safety Hooks</strong></div></div></div></div></div></div><!-- SLIDE 3: What is the SDK? --><div class="slide-container"><h2 class="slide-title">What is the Claude Agent SDK?</h2><div class="content-area"><div class="two-column"><div><p>It is not just a wrapper around the Messages API. It is the <strong>engine</strong>that powers Claude Code.</p><p>It provides a standardized harness for building agents that can:</p><ul><li>Execute terminal commands safely</li><li>Edit files with permissioning</li><li>Maintain persistent context</li><li>Fork sessions for exploration</li></ul></div><div class="tile"><div class="icon"><i class="fas fa-layer-group"></i></div><h3>The Bundle</h3><p>The Python SDK automatically bundles the <strong>Claude Code CLI</strong>binary.</p><p style="margin-top:15px; font-size:14px; color:#666;">No separate Node.js or binary installation required. <span class="inline-code">pip install</span>handles the binary fetch and setup.</p></div></div></div></div><!-- SLIDE 4: Architecture Definitions --><div class="slide-container"><h2 class="slide-title">The Stack Decoded</h2><div class="content-area"><p style="margin-bottom: 20px;">To understand the SDK,
        we must distinguish between the components.</p><div class="tiled-content"><div class="tile" style="border-top: 4px solid var(--accent-blue);"><div style="background: #eff6ff; padding: 12px; border-radius: 50%; margin-bottom: 20px; color: var(--accent-blue);"><i class="fas fa-code"></i></div><h3>1. Python Script</h3><p><strong>Your Entry Point.</strong>This is the <code>main.py</code>you write. It imports the SDK,
        defines configuration options,
        and initiates the connection.</p></div><div class="tile" style="border-top: 4px solid var(--accent-green);"><div style="background: #f0fdf4; padding: 12px; border-radius: 50%; margin-bottom: 20px; color: var(--accent-green);"><i class="fas fa-cubes"></i></div><h3>2. Python App</h3><p><strong>The Wrapper.</strong>The larger ecosystem hosting your script (e.g., a FastAPI backend,
            a Django worker, or a CLI tool).</p></div><div class="tile"
        style="background-color: #fff7ed; border: 1px solid #fed7aa; border-top: 4px solid var(--accent-coral);"><div style="background: #ffedd5; padding: 12px; border-radius: 50%; margin-bottom: 20px; color: var(--accent-coral);"><i class="fas fa-robot"></i></div><h3>3. The Agent</h3><p><strong>The Logic.</strong>The `ClaudeSDKClient` instance. It holds state,
        manages the session ID,
        and handles the "Loop" logic.</p></div></div><div style="margin-top: 20px; text-align: center;"><div style="background: #1e293b; color: white; padding: 20px; border-radius: 12px; display: flex; align-items: center; justify-content: space-between; gap: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);"><div style="text-align: left;"><h3 style="color: #fff; margin-bottom: 5px;">4. The CLI Binary (The Engine)</h3><p style="color: #94a3b8; font-size: 16px;">A pre-compiled binary (managed by the SDK) that runs as a subprocess. It handles the heavy lifting: API communication,
        tokenization,
        and sandboxed execution of OS commands.</p></div><i class="fas fa-microchip" style="font-size: 40px; color: #475569;"></i></div></div></div></div><!-- SLIDE 5: Architecture Diagram --><div class="slide-container"><h2 class="slide-title">Visualizing the Harness</h2><div class="content-area"><p>The SDK acts as a bridge between your application logic and the Anthropic execution engine.</p><div class="agent-arch" style="margin-bottom: 40px; transform: scale(1.1);"><div class="agent-box" style="border-style:dashed;">Python App<br>(FastAPI/Flask)</div><div class="agent-arrow">↔</div><div class="agent-box core">SDK Client<br>(Hooks & State)</div><div class="agent-arrow" style="font-size: 12px;">STDIN/OUT<br>Transport</div><div class="agent-box" style="background:#1e1e1e; color:white; border:none;">CLI Binary<br>(Subprocess) </div><div class="agent-arrow">↔</div><div class="agent-box">Anthropic API<br>(LLM)</div></div><div class="tiled-content"><div class="tile"><h3>Control Protocol</h3><p>A JSON-RPC style protocol flows over the transport layer,
        handling interrupts,
        permissions,
        and tool calls.</p></div><div class="tile"><h3>Isolation</h3><p>If the Agent generates a "crash"(e.g., runs a bad bash command),
        it happens in the Subprocess,
        protecting your main Python App.</p></div></div></div></div><!-- SLIDE 6: SECTION DIVIDER --><div class="slide-container section-divider"><div class="content-area"><h1>Getting Started</h1><p class="subtitle">Installation & Basic Concepts</p></div></div><!-- SLIDE 7: Installation --><div class="slide-container"><h2 class="slide-title">Pattern: Shared State Access</h2><div class="content-area"><div class="shared-state-container" style="margin-bottom: 40px;"><div class="state-box" style="width: 45%;"><h3 style="font-size: 18px; color: #94a3b8; margin-bottom: 20px;">Traditional (External)</h3><div style="display: flex; justify-content: center; gap: 20px; align-items: center; margin-bottom: 15px;"><span style="border: 1px solid #cbd5e1; padding: 5px 15px; border-radius: 4px;">AI Agent</span><span style="color: #cbd5e1;">|</span><span style="border: 1px solid #cbd5e1; padding: 5px 15px; border-radius: 4px;">Your App</span></div><p style="font-size: 12px;">"AI is outside, shouting through the Intercom (API)." </p></div><div class="state-box highlight" style="width: 55%;"><h3 style="font-size: 18px; color: var(--accent-coral); margin-bottom: 20px;">In-Process (SDK)</h3><div style="display: flex; justify-content: center; gap: 20px; align-items: center; margin-bottom: 15px;"><span style="font-weight: bold;">AI Agent</span><i class="fas fa-handshake" style="color: var(--accent-coral); font-size: 24px;"></i><span style="font-weight: bold;">Your App</span></div><p style="font-size: 12px; color: var(--accent-coral); font-weight: bold;">"AI is in the room. It has the keys." </p></div></div><div class="two-column" style="align-items: center;"><p><strong>Analogy:</strong>Instead of sending a letter to ask for data,
        the Agent lives inside your program and can read the variables directly.</p><pre>@tool("toggle_flag") async def toggle(args): # Direct memory access ! app_state.flags["beta"]=True </pre></div></div></div><div class="slide-container"><h2 class="slide-title">Installation & Prerequisites</h2><div class="content-area"><div class="two-column"><div><h3>Requirements</h3><ul><li>Python 3.10+</li><li>Valid Anthropic API Key</li></ul><h3>Setup</h3><pre>pip install claude-agent-sdk</pre><p style="font-size: 14px; margin-top: 10px;"><em>Note: The SDK will automatically download the platform-specific Claude Code CLI binary during the first run or build process.</em></p></div><div class="tile"><h3>Environment Variables</h3><pre>export ANTHROPIC_API_KEY="sk-..." </pre><p>The SDK uses this key to authenticate the underlying bundled CLI against the Anthropic API.</p></div></div></div></div><!-- SLIDE 8: Hello World (Query) --><div class="slide-container"><h2 class="slide-title">Hello World: The <code>query()</code>Function</h2><div class="content-area"><p>For simple, one-shot interactions where you don't need complex state management.</p>
 <div class="two-column"><pre>import anyio from claude_agent_sdk import query, AssistantMessage, TextBlock async def main(): # Simple one-shot query async for message in query(prompt="What is 2 + 2?"): if isinstance(message, AssistantMessage): for block in message.content: if isinstance(block, TextBlock): print(block.text) anyio.run(main)</pre><div><h3>Key Characteristics</h3><ul><li><strong>Unidirectional:</strong>Send prompt, stream response.</li><li><strong>Stateless:</strong>Each query is a fresh start (unless session ID is managed).</li><li><strong>Async Iterator:</strong>Yields messages as they arrive.</li></ul></div></div></div></div><!-- SLIDE 9: ClaudeAgentOptions --><div class="slide-container"><h2 class="slide-title">Architecture: External vs. In-Process</h2><div class="content-area"><div class="two-column"><div class="comparison-card external"><h3>External (Standard MCP)</h3><p style="font-size: 16px; margin-bottom: 20px;"><strong>Mechanism:</strong>Spawns a new process (e.g., `node server.js`). Communicates via Stdio pipes.</p><div class="check-item"><i class="fas fa-check-circle check-icon"></i>Isolated environment</div><div class="check-item"><i class="fas fa-times-circle cross-icon"></i>High latency (IPC)</div></div><div class="comparison-card in-process"><h3>In-Process (SDK)</h3><p style="font-size: 16px; margin-bottom: 20px;"><strong>Mechanism:</strong>Registers Python functions directly within the SDK client memory.</p><div class="check-item"><i class="fas fa-check-circle check-icon"></i>Zero Latency</div><div class="check-item"><i class="fas fa-check-circle check-icon"></i>Shared Memory Access</div></div></div></div></div><div class="slide-container"><h2 class="slide-title">The Control Center: <code>ClaudeAgentOptions</code></h2><div class="content-area"><p>This object controls the environment, permissions, and capabilities of the agent.</p><div class="tiled-content"><div class="tile"><h3>Context & Identity</h3><ul><li><span class="inline-code">system_prompt</span></li><li><span class="inline-code">cwd</span>(Working Directory)</li><li><span class="inline-code">model</span>(e.g., Sonnet 3.5)</li></ul></div><div class="tile"><h3>Safety & Limits</h3><ul><li><span class="inline-code">max_budget_usd</span></li><li><span class="inline-code">max_turns</span></li><li><span class="inline-code">permission_mode</span></li></ul></div><div class="tile"><h3>Capabilities</h3><ul><li><span class="inline-code">allowed_tools</span></li><li><span class="inline-code">mcp_servers</span></li><li><span class="inline-code">hooks</span></li></ul></div></div></div></div><!-- SLIDE 10: Setting the Context --><div class="slide-container"><h2 class="slide-title">Defining the Working Environment</h2><div class="content-area"><div class="two-column"><div><p>Agents interact with the filesystem. Setting the <span class="inline-code">cwd</span>is critical for file operations.</p><pre>from pathlib import Path options=ClaudeAgentOptions(# Set the root of the agent's world
 cwd="/path/to/project",

            # Define the persona system_prompt="You are a DevOps engineer."

        ) # Pass options to query or client await client.query("Check git status", options=options)</pre></div><div class="tile"><div class="icon"><i class="fas fa-folder-open"></i></div><h3>Sandbox Implications</h3><p>By default, tools like <code>ls</code>, <code>grep</code>, or <code>Edit</code>will operate relative to this CWD.</p><p>The SDK ensures operations are grounded in this path.</p></div></div></div></div><!-- SLIDE 11: SECTION DIVIDER --><div class="slide-container section-divider"><div class="content-area"><h1>Interactive Agents</h1><p class="subtitle">The ClaudeSDKClient & State</p></div></div><!-- SLIDE 12: ClaudeSDKClient --><div class="slide-container"><h2 class="slide-title">The <code>ClaudeSDKClient</code></h2><div class="content-area"><div class="two-column"><div><h3>Bidirectional & Stateful</h3><p>Unlike <span class="inline-code">query()</span>, the Client maintains a persistent connection to the agent process.</p><ul><li>Send follow-up messages.</li><li>Interrupt generation.</li><li>Change settings mid-flight.</li><li>Receive tool events and hooks.</li></ul></div><pre>async with ClaudeSDKClient() as client: # First turn await client.query("Check the logs") async for msg in client.receive_response(): print(msg) # Second turn (maintains context) await client.query("Fix the error you found") async for msg in client.receive_response(): print(msg)</pre></div></div></div><!-- SLIDE 13: Streaming & Partial Messages --><div class="slide-container"><h2 class="slide-title">Streaming Deltas</h2><div class="content-area"><p>To build rich UIs, you need to show the agent "typing" via <span class="inline-code">StreamEvent</span>. </p><pre>options=ClaudeAgentOptions(include_partial_messages=True, # Enable deltas) async with ClaudeSDKClient(options=options) as client: await client.query("Write a story...") async for msg in client.receive_response(): if isinstance(msg, StreamEvent): # msg.event contains: message_start,
        # content_block_delta, etc. delta=msg.event.get('delta', {}) if delta.get('type')=='text_delta': print(delta['text'], end="", flush=True)</pre></div></div><!-- SLIDE 14: Transparency with Thinking Blocks (VISUAL ADDED) --><div class="slide-container"><h2 class="slide-title">Transparency: Auditing "Thinking" </h2><div class="content-area"><div style="display: flex; align-items: center; justify-content: center; gap: 40px; margin-bottom: 30px;"><div style="text-align: center;"><div style="background: #e2e8f0; color: #64748b; padding: 20px 40px; border-radius: 12px; border: 2px dashed #cbd5e1; font-weight: bold;"><i class="fas fa-brain" style="font-size: 24px; margin-bottom: 10px; display: block;"></i>Thinking Block </div><div style="font-size: 14px; color: #64748b; margin-top: 10px; font-weight: bold;">HIDDEN / INTERNAL LOGS</div></div><i class="fas fa-arrow-right" style="color: #cbd5e1; font-size: 30px;"></i><div style="text-align: center;"><div style="background: #ecfdf5; color: #059669; padding: 20px 40px; border-radius: 12px; border: 2px solid #10b981; font-weight: bold;"><i class="fas fa-comment-alt" style="font-size: 24px; margin-bottom: 10px; display: block;"></i>Text Block </div><div style="font-size: 14px; color: #059669; margin-top: 10px; font-weight: bold;">USER VISIBLE OUTPUT</div></div></div><div class="two-column"><div><p>Agents using <strong>Extended Thinking</strong>models produce reasoning steps before the final answer.</p><p>The SDK exposes these as <span class="inline-code">ThinkingBlock</span>objects,
        allowing you to audit the agent's logic chain.</p>
 </div><pre>if isinstance(msg, AssistantMessage): for block in msg.content: if isinstance(block, ThinkingBlock): # Hidden reasoning logger.info(f"Reasoning: {block.thinking}") elif isinstance(block, TextBlock): # Final output to user print(block.text)</pre></div></div></div><!-- SLIDE 15: Interrupts --><div class="slide-container"><h2 class="slide-title">Control Flow: Interrupts</h2><div class="content-area"><div class="two-column"><div><p>Agents can get stuck in loops or go down wrong paths. The SDK allows you to signal an interrupt to the underlying process.</p><p>This stops the generation but keeps the session alive for a new prompt.</p></div><pre># Start a long running task await client.query("Count to 1 million") # ... some logic decides to stop it ... await asyncio.sleep(2) # Send interrupt signal await client.interrupt() # Send new instruction await client.query("Actually, just count to 10")</pre></div></div></div><!-- SLIDE 16: Dynamic Control --><div class="slide-container"><h2 class="slide-title">Dynamic Runtime Control</h2><div class="content-area"><p>You can change the agent's brain or permissions without restarting the session.</p>
 <div class="tiled-content"><div class="tile"><h3>Switch Models</h3><pre>await client.set_model("claude-3-5-haiku"
        )</pre><p>Swap to a faster/cheaper model for simple sub-tasks.</p></div><div class="tile"><h3>Change Permissions</h3><pre>await client.set_permission_mode("acceptEdits"
        )</pre><p>Grant write access dynamically after a review phase.</p></div><div class="tile"><h3>Budgeting</h3><pre>options.max_budget_usd=0.50</pre><p>Hard stop the agent if it burns too many tokens.</p></div></div></div></div><!-- SLIDE 17: Session Forking (VISUAL ADDED) --><div class="slide-container"><h2 class="slide-title">Session Forking</h2><div class="content-area"><div style="position: relative; height: 180px; margin-bottom: 30px; border-left: 6px solid #3b82f6; margin-left: 40px; padding-left: 20px;"><div style="position: absolute; top: -10px; left: 10px; font-weight: bold; font-size: 18px; color: #1e293b;">Session A (Original Context)</div><div style="margin-top: 10px; color: #64748b;">Read Repo • Analyze Bugs • Plan Fixes</div><div style="position: absolute; top: 50%; left: -14px; width: 22px; height: 22px; background: #3b82f6; border-radius: 50%; border: 4px solid white;"></div><div style="position: absolute; top: 45%; left: 30px; background: #3b82f6; color: white; padding: 4px 10px; border-radius: 12px; font-size: 12px; font-weight: bold;">FORK POINT</div><!-- Branch --><div style="position: absolute; top: 52%; left: -6px; width: 80px; height: 80px; border-left: 6px solid var(--accent-coral); border-bottom: 6px solid var(--accent-coral); border-bottom-left-radius: 30px;"></div><div style="position: absolute; top: 140px; left: 90px; color: var(--accent-coral); font-weight: bold; font-size: 18px;">Session B (New Branch)</div><div style="position: absolute; top: 165px; left: 90px; color: #64748b; font-size: 14px;">Try Fix Attempt #1 (Isolated)</div></div><div class="two-column"><div><h3>Exploration Pattern</h3><p>Start a session,
        establish context (e.g., read a repo),
        and then "fork" the session to try multiple parallel experiments without re-reading the repo.</p></div><pre>options=ClaudeAgentOptions(resume="session-id-123",
            fork_session=True) # This creates a NEW session ID but keeps # the history of session-123. async with ClaudeSDKClient(options) as client: await client.query("Try approach A")</pre></div></div></div><!-- SLIDE 18: SECTION DIVIDER --><div class="slide-container section-divider"><div class="content-area"><h1>Tools & MCP</h1><p class="subtitle">The Agent's Hands and Eyes</p>
 </div></div><!-- SLIDE 19: What is MCP? --><div class="slide-container"><h2 class="slide-title">Model Context Protocol (MCP)</h2><div class="content-area"><div class="two-column"><div><p>MCP is the standard way to connect AI models to data and tools.</p><p>Instead of hardcoding API calls,
        you expose "Servers" that provide:</p><ul><li><strong>Tools:</strong>Executable functions (e.g., "query_db")</li><li><strong>Resources:</strong>readable data (e.g., "logs://")</li><li><strong>Prompts:</strong>Reusable templates</li></ul></div><div class="tile" style="align-items: center; justify-content: center;"><i class="fas fa-network-wired" style="font-size: 80px; color: var(--text-secondary);"></i><h3 style="margin-top:20px;">Standardized Interface</h3></div></div></div></div><!-- SLIDE 20: In-Process MCP --><div class="slide-container"><h2 class="slide-title">Game Changer: In-Process MCP</h2><div class="content-area"><p>Traditionally,
        MCP servers run as separate processes (stdio/SSE). <br>The SDK allows you to run MCP servers <strong>directly inside your Python application</strong>.</p><div class="tiled-content"><div class="tile"><h3>No Overhead</h3><p>No IPC (Inter-Process Communication) serialization lag. Function calls are direct Python calls. </p></div><div class="tile"><h3>Shared State</h3><p>Tools can access your app's global variables, database connections, and memory.</p>
 </div><div class="tile"><h3>Simple Debugging</h3><p>Set breakpoints in your tool code and step through it alongside your agent logic.</p></div></div></div></div><!-- SLIDE 21: Tooling Pattern: Input Sanitization --><div class="slide-container"><h2 class="slide-title">Tooling Pattern: Input Sanitization</h2><div class="content-area"><div class="two-column" style="align-items: center;"><div><p style="margin-bottom: 40px;">Intercept tool inputs to "fix" or redirect them transparently.</p><div class="visual-flow"><div class="visual-node node-input">Input: Write("/etc/passwd") </div><div class="visual-arrow-down"><i class="fas fa-arrow-down"></i></div><div class="visual-node node-hook"><i class="fas fa-shield-alt"></i>SANITIZER HOOK </div><div class="visual-arrow-down"><i class="fas fa-arrow-down"></i></div><div class="visual-node node-output">Output: Write("/tmp/safe.txt") </div></div></div><div><pre style="font-size: 13px;">async def permission_callback(tool, input, context): if tool=="Write" and "forbidden" in input["file_path"]: # Redirect to safe location silently new_input=input.copy() new_input["file_path"]="/tmp/safe_write.txt"

        return PermissionResultAllow(updated_input=new_input) </pre></div></div></div></div><!-- SLIDE 22: External vs In-Process MCP (UPDATED VISUALS) --><div class="slide-container"><h2 class="slide-title">Architecture: External vs. In-Process</h2><div class="content-area"><div class="two-column"><div class="comparison-card external"><h3>External (Standard MCP)</h3><p style="font-size: 16px; margin-bottom: 20px;"><strong>Mechanism:</strong>Spawns a new process (e.g., `node server.js`). Communicates via Stdio pipes.</p><div class="check-item"><i class="fas fa-check-circle check-icon"></i>Isolated environment</div><div class="check-item"><i class="fas fa-times-circle cross-icon"></i>High latency (IPC)</div></div><div class="comparison-card in-process"><h3>In-Process (SDK)</h3><p style="font-size: 16px; margin-bottom: 20px;"><strong>Mechanism:</strong>Registers Python functions directly within the SDK client memory.</p><div class="check-item"><i class="fas fa-check-circle check-icon"></i>Zero Latency</div><div class="check-item"><i class="fas fa-check-circle check-icon"></i>Shared Memory Access</div></div></div></div></div><!-- SLIDE 23: Why In-Process? --><div class="slide-container"><h2 class="slide-title">Why use In-Process MCP?</h2><div class="content-area"><p>For Solution Engineers integrating Claude into existing platforms,
        In-Process is often superior.</p><div class="tiled-content"><div class="tile"><div class="icon"><i class="fas fa-database"></i></div><h3>Reuse Connections</h3><p>Don't open a new DB connection for every tool call. Use your existing SQLAlchemy session.</p>
 </div><div class="tile"><div class="icon"><i class="fas fa-bolt"></i></div><h3>Speed</h3><p>Eliminating JSON serialization/deserialization over pipes saves milliseconds per turn.</p></div><div class="tile"><div class="icon"><i class="fas fa-code"></i></div><h3>Complexity</h3><p>No need to package/dockerize a separate "server" . It's just a module in your app.</p>
 </div></div></div></div><!-- SLIDE 24: Implementing In-Process MCP --><div class="slide-container"><h2 class="slide-title">Implementation: The <code>@tool</code>Decorator</h2><div class="content-area"><p>Creating an In-Process server is as simple as decorating a Python function.</p><div class="two-column"><pre>from claude_agent_sdk import tool, create_sdk_mcp_server # 1. Define the tool @tool("get_user_data", "Fetch user info", {
            "user_id": str

        }) async def get_user_data(args): # Direct access to your app logic user=await db.fetch_user(args['user_id']) return {
            "content": [ {
                "type": "text", "text": str(user)
            }

            ]
        }

        # 2. Create the server server=create_sdk_mcp_server(name="internal-api",
            tools=[get_user_data])</pre><div><h3>Key Concepts</h3><ul><li><strong>Type Hints:</strong>Used for validation.</li><li><strong>Async:</strong>Tools must be async functions.</li><li><strong>Return Format:</strong>Standard MCP content structure.</li></ul></div></div></div></div><!-- SLIDE 25: Shared State Pattern --><div class="slide-container"><h2 class="slide-title">Pattern: Shared State Access</h2><div class="content-area"><p>The killer feature: Your tool can see your application's memory.</p>
 <pre>class ApplicationState: def __init__(self): self.feature_flags= {
            "beta_access": False
        }

        app_state=ApplicationState() @tool("toggle_feature", "Toggle a feature flag", {
            "feature": str

        }) async def toggle_feature(args): # Modify state directly ! feat=args['feature'] app_state.feature_flags[feat]=not app_state.feature_flags.get(feat, False) return {
            "content": [ {
                "type": "text", "text": "Flag updated"
            }

            ]
        }

        # The agent effectively has "Root Access" to this specific state object.</pre></div></div><!-- SLIDE 26: Shared State Visualized (FIXED DIAGRAM) --><div class="slide-container"><h2 class="slide-title">Concept: Zero-Latency State</h2><div class="content-area"><div style="display: flex; gap: 40px; align-items: stretch; height: 450px; justify-content: center;"><!-- EXTERNAL MCP MODEL --><div style="flex: 1; border: 2px dashed #cbd5e1; border-radius: 20px; padding: 30px; display: flex; flex-direction: column; align-items: center; position: relative; background: #f8fafc;"><div style="background: #cbd5e1; color: #475569; padding: 5px 15px; border-radius: 20px; font-size: 14px; font-weight: bold; margin-bottom: 20px;">External MCP</div><!-- App Process --><div class="diagram-box" style="width: 100%; border-color: #64748b;">Your Python App </div><!-- PIPE --><div style="flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; gap: 5px; color: #64748b;"><div style="width: 2px; height: 100%; background: #cbd5e1;"></div><div style="background: white; padding: 5px 10px; border: 1px solid #cbd5e1; border-radius: 6px; font-size: 12px; font-family: 'Fira Code', monospace; z-index: 2; margin-top: -60px;">JSON Over Pipe</div><div style="font-size: 12px; margin-top: 5px;">Latency Added</div></div><!-- External Process --><div class="diagram-box"

        style="width: 100%; background: #f1f5f9; color: #64748b; border-style: dashed;">Process: node server.js </div></div><!-- INTERNAL MCP MODEL --><div style="flex: 1; border: 3px solid var(--accent-coral); border-radius: 20px; padding: 30px; display: flex; flex-direction: column; align-items: center; background: #fff7ed; box-shadow: 0 20px 40px rgba(234, 88, 12, 0.1);"><div style="background: var(--accent-coral); color: white; padding: 5px 15px; border-radius: 20px; font-size: 14px; font-weight: bold; margin-bottom: 20px;">In-Process SDK</div><div style="width: 100%; height: 100%; border: 2px solid #1e293b; border-radius: 12px; background: white; position: relative; padding: 25px; display: flex; flex-direction: column; justify-content: center;"><div style="position: absolute; top: -12px; left: 20px; background: #1e293b; color: white; padding: 2px 12px; font-weight: bold; font-family: monospace; font-size: 12px; border-radius: 4px;">PID: 12345 (Single Process)</div><div style="display: flex; justify-content: space-between; align-items: center; gap: 20px;"><div style="flex: 1; height: 100px; background: #eff6ff; color: #1d4ed8; display: flex; align-items: center; justify-content: center; border-radius: 12px; font-weight: bold; border: 2px solid #bfdbfe;"><i class="fas fa-robot" style="margin-right: 10px;"></i>Agent Tool </div><!-- POINTER CONNECTION --><div style="display: flex; flex-direction: column; align-items: center; gap: 5px; width: 80px;"><div style="height: 4px; width: 100%; background: #1e293b; border-radius: 2px;"></div><div style="font-size: 10px; font-weight: bold; text-align: center; color: #1e293b;">DIRECT<br>POINTER</div></div><div style="flex: 1; height: 100px; background: #f0fdf4; color: #15803d; display: flex; align-items: center; justify-content: center; border-radius: 12px; font-weight: bold; border: 2px solid #bbf7d0;"><i class="fas fa-database" style="margin-right: 10px;"></i>Global State </div></div></div></div></div></div></div><!-- SLIDE 27: Real World Examples --><div class="slide-container"><h2 class="slide-title">Real-World Examples</h2><div class="content-area"><div class="tiled-content"><div class="tile"><h3>Internal API Gateway</h3><p>Expose your company's private microservices (User Service, Billing) as tools without building
 public wrappers.</p></div><div class="tile"><h3>RAG & Vector DB</h3><p>Pass your pre-loaded Vector Search client into the tool. Agent queries Pinecone/Weaviate directly.</p></div><div class="tile"><h3>DevOps Control</h3><p>Expose Kubernetes client methods to allow the agent to inspect pods running in the current cluster context.</p></div></div></div></div><!-- SLIDE 28: Registering Tools --><div class="slide-container"><h2 class="slide-title">Registering the Server</h2><div class="content-area"><p>Once created,
        you pass the in-process server to the Agent Options.</p><pre>options=ClaudeAgentOptions(# Register the server mcp_servers= {
                "internal_tools": server
            }

            ,

            # Whitelist the tools you want available # Format: mcp__ {
                server_name
            }

            __ {
                tool_name
            }

            allowed_tools=["mcp__internal_tools__greet"]) async with ClaudeSDKClient(options=options) as client: await client.query("Greet Alice")</pre></div></div><!-- SLIDE 29: Hybrid Tooling --><div class="slide-container"><h2 class="slide-title">Hybrid Tooling Strategy</h2><div class="content-area"><p style="margin-bottom: 20px;">You can mix In-Process tools with External MCP servers.</p><div class="two-column" style="gap: 30px;"><div class="tile"><h3>Internal (SDK)</h3><ul><li>Business Logic</li><li>Database Writes</li><li>App Control</li></ul></div><div class="tile"><h3>External (Stdio/SSE)</h3><ul><li>PostgreSQL MCP Server</li><li>GitHub MCP Server</li><li>Slack MCP Server</li></ul></div></div><pre style="margin-top: 15px; padding: 15px;">options=ClaudeAgentOptions(mcp_servers= {

                "internal": sdk_server,
                "github": {
                    "type": "stdio", "command": "docker", "args": [...]
                }
            })</pre></div></div><!-- SLIDE 30: Tool Permissions (SYMMETRICAL REDESIGN) --><div class="slide-container"><h2 class="slide-title">Controlling Tool Access</h2><div class="content-area"><p style="margin-bottom: 30px;">Just because a tool exists doesn't mean the agent should use it freely. The
 SDK offers three levels of granularity.</p><div class="tiled-content"><!-- Card 1 --><div class="tile" style="text-align: center; align-items: center; border-top: 6px solid #64748b;"><div style="background: #f1f5f9; padding: 10px; border-radius: 50%; margin-bottom: 15px;"><i class="fas fa-list" style="color: #64748b;"></i></div><h3>tools</h3><p style="font-size: 14px; margin-bottom: 10px;">Definition</p><p style="font-size: 13px; color: #666;">Defines the <em>existence</em>of tools. This registers them with the LLM but does not guarantee execution rights.</p><div class="inline-code" style="margin-top: auto;">["Read",
        "Edit"]</div></div><!-- Card 2 --><div class="tile"
        style="text-align: center; align-items: center; border-top: 6px solid var(--accent-green); background: #f0fdf4;"><div style="background: #dcfce7; padding: 10px; border-radius: 50%; margin-bottom: 15px;"><i class="fas fa-check" style="color: var(--accent-green);"></i></div><h3>allowed_tools</h3><p style="font-size: 14px; margin-bottom: 10px;">Auto-Approval</p><p style="font-size: 13px; color: #666;">Bypasses the human-in-the-loop check. The agent can execute these immediately.</p><div class="inline-code" style="margin-top: auto;">["mcp__read_logs"]</div></div><!-- Card 3 --><div class="tile"

        style="text-align: center; align-items: center; border-top: 6px solid var(--accent-red); background: #fef2f2;"><div style="background: #fee2e2; padding: 10px; border-radius: 50%; margin-bottom: 15px;"><i class="fas fa-ban" style="color: var(--accent-red);"></i></div><h3>disallowed_tools</h3><p style="font-size: 14px; margin-bottom: 10px;">Hard Block</p><p style="font-size: 13px; color: #666;">Prevents usage entirely,
        even if the model tries to call it. Useful for rigorous safety.</p><div class="inline-code" style="margin-top: auto;">["Bash"]</div></div></div></div></div><!-- SLIDE 31: SECTION DIVIDER --><div class="slide-container section-divider"><div class="content-area"><h1>The Harness</h1><p class="subtitle">Hooks,
        Safety & Permissions</p></div></div><!-- SLIDE 32: Introduction to Hooks --><div class="slide-container"><h2 class="slide-title">The Safety Harness: Hooks</h2><div class="content-area"><div class="two-column"><div><p>Hooks allow you to intercept the agent loop at critical points.</p><p>They act as a <strong>middleware layer</strong>between Claude's intent and the actual execution.
 </p></div><div class="tile"><h3>Hook Types</h3><ul><li><strong>PreToolUse:</strong>Before a tool runs. (Block/Allow)</li><li><strong>PostToolUse:</strong>After a tool runs. (Validate)</li><li><strong>UserPromptSubmit:</strong>Before prompt goes to LLM.</li></ul></div></div></div></div><!-- SLIDE 33: Human in the Loop --><div class="slide-container"><h2 class="slide-title">Human-in-the-Loop: Async Hooks</h2><div class="content-area"><p>Use <strong>Async Hooks</strong>to pause execution and wait for external validation (e.g., a human approval in Slack).</p><pre>async def approval_hook(input_data, tool_id, context): # This keeps the connection open but pauses the agent loop return {
            "async_": True, # Signal to SDK to wait "asyncTimeout": 300000 # 5 minutes timeout
        }

        # Your application then handles the out-of-band approval # and resumes the hook via the control protocol.</pre><div style="margin-top: 15px;"><span class="tag tag-coral">Enterprise Pattern</span><span class="tag tag-gray">Jira Integration</span><span class="tag tag-gray">Slack Approval</span></div></div></div><!-- SLIDE 34: Data Privacy: Input Hooks --><div class="slide-container"><h2 class="slide-title">Data Privacy: PII Redaction</h2><div class="content-area"><p>Intercept user prompts <strong>before</strong>they are sent to the LLM to redact sensitive info.</p><pre>import re async def redact_pii(input_data, tool_id, context): prompt=input_data["prompt"] # Regex to find Credit Cards cleaned=re.sub(r'\b(?:\d[ -]*?){13,16}\b', '[REDACTED_CC]', prompt) return {
            "hookSpecificOutput": {
                "hookEventName": "UserPromptSubmit",
                    # SDK sends modified prompt to Claude "prompt": cleaned
            }
        }

        </pre></div></div><!-- SLIDE 35: Data Safety: Output Auditing --><div class="slide-container"><h2 class="slide-title">Data Safety: Output Auditing</h2><div class="content-area"><p>Use <code>PostToolUse</code>to ensure tools aren't returning sensitive database dumps or API keys to the
 context window.</p><pre>async def audit_tool_output(input_data, tool_id, context): response=str(input_data["tool_response"]) if "sk-ant-" in response: return {

            "systemMessage": "API Key detected in output. Redacting.",
            # Modify the result the agent sees "hookSpecificOutput": {
                "hookEventName": "PostToolUse",
                    "tool_response": "[API KEY REDACTED]"
            }
        }

        return {}

        </pre></div></div><!-- SLIDE 36: PreToolUse (Guardrails) --><div class="slide-container"><h2 class="slide-title">PreToolUse: Implementing Guardrails</h2><div class="content-area"><p>Intercept a tool call before it executes to inspect arguments.</p><pre>async def check_bash(input_data, tool_id, context): command=input_data["tool_input"].get("command", "") if "rm -rf" in command: return {
            "hookSpecificOutput": {
                "hookEventName": "PreToolUse",
                    "permissionDecision": "deny",
                    "permissionDecisionReason": "Destructive commands blocked."
            }
        }

        return {}

        # Allow</pre></div></div><!-- SLIDE 37: PostToolUse (Validation) --><div class="slide-container"><h2 class="slide-title">PostToolUse: Validation & Feedback</h2><div class="content-area"><p>Inspect the output of a tool. If it failed or produced sensitive data,
        you can intervene.</p><pre>async def validate_output(input_data, tool_id, context): response=input_data["tool_response"] if "Error" in str(response): return {

            "systemMessage": "Tool failed.",
            "hookSpecificOutput": {
                "hookEventName": "PostToolUse",
                    "additionalContext": "Try checking the syntax."
            }
        }

        return {}

        </pre></div></div><!-- SLIDE 38: UserPromptSubmit (Context Injection) --><div class="slide-container"><h2 class="slide-title">UserPromptSubmit: Context Injection</h2><div class="content-area"><p>Inject secret context or instructions without the user typing them.</p><pre>async def inject_context(input_data, tool_id, context): return {
            "hookSpecificOutput": {
                "hookEventName": "UserPromptSubmit",
                    "additionalContext": "Current Time: 12:00 PM. User is Admin."
            }
        }

        </pre></div></div><!-- SLIDE 39: ROI & Metrics --><div class="slide-container"><h2 class="slide-title">ROI & Usage Tracking</h2><div class="content-area"><div class="two-column"><div><p>The <span class="inline-code">ResultMessage</span>contains precise cost and token usage data,
        essential for billing internal departments or calculating ROI.</p><div class="metric-box" style="padding: 15px;"><div class="metric-number">$0.042</div><div class="metric-label">Session Cost</div></div></div><pre>async for msg in client.receive_response(): if isinstance(msg, ResultMessage): print(f"Cost: ${msg.total_cost_usd}") print(f"Duration: {msg.duration_ms}ms") print(f"Tokens: {msg.usage}") # Log to DataDog / Prometheus metrics.record(msg.total_cost_usd)</pre></div></div></div><!-- SLIDE 40: Configuring Hooks --><div class="slide-container"><h2 class="slide-title">Wiring it Together</h2><div class="content-area"><p>Hooks are registered in <span class="inline-code">ClaudeAgentOptions</span>using <span class="inline-code">HookMatcher</span>.</p><pre>from claude_agent_sdk import HookMatcher options=ClaudeAgentOptions(hooks= {
                "PreToolUse": [ # Only run this hook for "Bash" tool HookMatcher(matcher="Bash", hooks=[check_bash]),
                ],
                "UserPromptSubmit": [ # Run for all prompts HookMatcher(matcher=None, hooks=[inject_context])]
            })</pre></div></div><!-- SLIDE 41: Advanced Permissions Callback --><div class="slide-container"><h2 class="slide-title">Advanced: <code>can_use_tool</code>Callback</h2><div class="content-area"><p>For complex logic beyond simple blocking,
        use the global permission callback.</p><pre>async def my_permission_callback(tool, input, context): if tool=="Write" and "/etc/" in input["file_path"]: return PermissionResultDeny(message="System write denied") # Example: Redirect write to /tmp/ if tool=="Write": new_input=input.copy() new_input["file_path"]="/tmp/safe.txt"

        return PermissionResultAllow(updated_input=new_input)</pre><p>This allows <strong>modifying the tool input</strong>on the fly.</p></div></div><!-- SLIDE 42: Budgeting & Cost Control --><div class="slide-container"><h2 class="slide-title">Enterprise Safety: Budgeting</h2><div class="content-area"><div class="two-column"><div><p>Prevent runaway agents from consuming infinite tokens.</p><p>The SDK tracks usage and will terminate the session with a specific error subtype if the limit is breached.</p></div><div class="metric-box"><div class="metric-number">$0.50</div><div class="metric-label">Max Budget USD</div></div></div><pre>options=ClaudeAgentOptions(max_budget_usd=0.50, # 50 cents limit max_turns=20 # 20 loop iterations max)</pre></div></div><!-- SLIDE 43: Testing Strategy --><div class="slide-container"><h2 class="slide-title">Reliability: The Testing Pyramid</h2><div class="content-area"><div class="tiled-content"><div class="tile"><h3>Unit Tests (Tools)</h3><p>Test your <code>@tool</code>functions directly in Python. They are just async functions.</p></div><div class="tile"><h3>Integration (Mocked)</h3><p>Mock the <code>Transport</code>layer to simulate Claude responses without hitting the API.</p></div><div class="tile"><h3>E2E (Real API)</h3><p>Use the <code>@pytest.mark.e2e</code>pattern to run real agent loops against a sandbox.</p></div></div><pre style="margin-top: 20px;">@pytest.mark.e2e async def test_agent_completes_task(): # Real call to Anthropic API async with ClaudeSDKClient(options) as client: await client.query("Echo 'success'") # Assert tool was called via logs</pre></div></div><!-- SLIDE 44: SECTION DIVIDER --><div class="slide-container section-divider"><div class="content-area"><h1>Advanced Architectures</h1><p class="subtitle">Sub-Agents & Orchestration</p></div></div><!-- SLIDE 45: Agent Definitions --><div class="slide-container"><h2 class="slide-title">Defining Sub-Agents</h2><div class="content-area"><p>You can define specialized personas within the SDK. Claude can "handoff" tasks to these named agents.</p><pre>from claude_agent_sdk import AgentDefinition options=ClaudeAgentOptions(agents= {
                "code-reviewer": AgentDefinition(description="Reviews code for security issues",
                    prompt="You are a security auditor. Be strict.",
                    tools=["Read", "Grep"],
                    model="claude-3-opus"
                )
            })</pre></div></div><!-- SLIDE 46: The Orchestrator Pattern --><div class="slide-container"><h2 class="slide-title">In-Process Server Internals</h2><div class="content-area" style="justify-content: center;"><div class="process-box"><div class="process-label">Python Application Process</div><div class="internal-flow"><div class="internal-node"><i class="fas fa-code" style="font-size: 32px; margin-bottom: 10px; color: var(--text-primary);"></i><div><strong>Agent Logic</strong></div><div style="font-size: 12px; color: #666;">ClaudeSDKClient</div></div><div class="flow-arrow"><i class="fas fa-arrow-right"></i></div><div class="internal-node highlight"><i class="fas fa-server" style="font-size: 32px; margin-bottom: 10px; color: var(--accent-green);"></i><div><strong>@tool Function</strong></div><div style="font-size: 12px; color: #666;">def fetch_user(): ...</div></div><div class="flow-arrow"><i class="fas fa-link" style="color: var(--accent-blue);"></i></div><div class="internal-node memory"><i class="fas fa-database" style="font-size: 32px; margin-bottom: 10px; color: var(--accent-blue);"></i><div><strong>App Memory</strong></div><div style="font-size: 12px; color: #666;">Global Objects / DB</div></div></div></div></div></div><!-- SLIDE 47: Structured Output (NEW DIAGRAM) --><div class="slide-container"><h2 class="slide-title">Structured Output: From Chaos to JSON</h2><div class="content-area"><div style="display: flex; align-items: center; justify-content: center; gap: 40px; margin-top: 20px;"><!-- Chaos State --><div style="text-align: center; width: 300px;"><div style="background: #f1f5f9; padding: 20px; border-radius: 12px; border: 2px dashed #94a3b8; position: relative;"><i class="fas fa-file-alt" style="font-size: 40px; color: #64748b;"></i><p style="margin-top: 10px; font-size: 14px; color: #475569;">"I found 3 files. One is a test, two are source code. Oh, and here are the details..."

        </p><div style="position: absolute; top: -10px; right: -10px; background: #ef4444; color: white; padding: 4px 8px; border-radius: 12px; font-size: 10px; font-weight: bold;">UNSTRUCTURED</div></div></div><!-- Process Arrow --><div style="text-align: center; color: var(--accent-coral);"><i class="fas fa-long-arrow-alt-right" style="font-size: 40px;"></i><div style="font-size: 12px; font-weight: bold; margin-top: 5px;">JSON SCHEMA</div></div><!-- Structured State --><div style="text-align: center; width: 300px;"><div style="background: #ecfdf5; padding: 20px; border-radius: 12px; border: 2px solid #10b981; position: relative; font-family: 'Fira Code', monospace; text-align: left;"><span style="color: #047857;"> {
            </span><br>&nbsp;
            &nbsp;
            <span style="color: #059669;">"file_count" </span>: <span style="color: #d97706;" >3</span>, <br> &nbsp;
            &nbsp;
            <span style="color: #059669;">"has_tests" </span>: <span style="color: #2563eb;" >true</span><br> <span style="color: #047857;" >
        }

        </span><div style="position: absolute; top: -10px; right: -10px; background: #10b981; color: white; padding: 4px 8px; border-radius: 12px; font-size: 10px; font-weight: bold;">VALID JSON</div></div></div></div><div style="margin-top: 30px; text-align: center; font-size: 14px; color: #64748b;">The SDK forces the LLM to output only data that matches your strictly defined schema. </div></div></div><!-- SLIDE 48: Network Isolation --><div class="slide-container"><h2 class="slide-title">Security: Network Sandbox</h2><div class="content-area"><div class="two-column"><div><p>Enterprise deployments often require strict network isolation. The <span class="inline-code">SandboxSettings</span>object controls exactly what the agent can access.</p><ul><li>Block all internet access.</li><li>Allow specific Unix sockets (e.g., Docker).</li><li>Force traffic through proxies.</li></ul></div><pre>sandbox_config= {

            "enabled": True,
            "network": {
                "allowAllUnixSockets": False,
                    "allowUnixSockets": ["/var/run/docker.sock"],
                    "httpProxyPort": 8080
            }
        }

        options=ClaudeAgentOptions(sandbox=sandbox_config)</pre></div></div></div><!-- SLIDE 49: Visualizing Network Isolation (New Diagram) --><div class="slide-container"><h2 class="slide-title">Visualizing Network Isolation</h2><div class="content-area"><div style="display: flex; justify-content: center; gap: 50px; margin-top: 40px; align-items: center;"><!-- The Sandbox Box --><div style="width: 400px; height: 300px; border: 3px solid #333; border-radius: 12px; position: relative; background: #fafaf9; display: flex; flex-direction: column; align-items: center; justify-content: center;"><div style="position: absolute; top: -15px; left: 20px; background: #333; color: white; padding: 5px 15px; font-size: 14px; font-weight: bold; border-radius: 4px;">AGENT SANDBOX</div><div style="width: 120px; height: 120px; background: white; border: 2px solid var(--accent-coral); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 10px rgba(0,0,0,0.1);"><i class="fas fa-robot" style="font-size: 50px; color: var(--accent-coral);"></i></div><div style="margin-top: 15px; font-weight: bold;">Running Agent</div></div><!-- Connections --><div style="display: flex; flex-direction: column; gap: 40px;"><!-- Blocked Internet --><div style="display: flex; align-items: center; gap: 15px;"><i class="fas fa-arrow-left" style="font-size: 24px; color: #cbd5e1;"></i><i class="fas fa-times-circle" style="font-size: 30px; color: var(--accent-red);"></i><div style="border: 2px dashed #94a3b8; padding: 10px 20px; border-radius: 8px; background: #f1f5f9;"><i class="fas fa-globe"></i>Public Internet </div></div><!-- Allowed Socket --><div style="display: flex; align-items: center; gap: 15px;"><i class="fas fa-arrow-left" style="font-size: 24px; color: var(--accent-green);"></i><i class="fas fa-check-circle" style="font-size: 30px; color: var(--accent-green);"></i><div style="border: 2px solid var(--accent-green); padding: 10px 20px; border-radius: 8px; background: #ecfdf5;"><i class="fab fa-docker"></i>Docker Socket </div></div><!-- Allowed Proxy --><div style="display: flex; align-items: center; gap: 15px;"><i class="fas fa-arrow-left" style="font-size: 24px; color: var(--accent-green);"></i><i class="fas fa-check-circle" style="font-size: 30px; color: var(--accent-green);"></i><div style="border: 2px solid var(--accent-green); padding: 10px 20px; border-radius: 8px; background: #ecfdf5;"><i class="fas fa-server"></i>Corporate Proxy (8080) </div></div></div></div></div></div><!-- SLIDE 50: Error Handling --><div class="slide-container"><h2 class="slide-title">Robust Error Handling</h2><div class="content-area"><p>Production agents must handle failures gracefully. The SDK provides specific exception types.</p><div class="tiled-content"><div class="tile"><h3>CLINotFoundError</h3><p>Agent runtime binary is missing or corrupt.</p></div><div class="tile"><h3>CLIConnectionError</h3><p>The transport layer failed (process crash).</p></div><div class="tile"><h3>ProcessError</h3><p>The underlying command exited with a non-zero code.</p></div></div><pre style="margin-top: 20px;">try: async for msg in query(...): pass except CLIConnectionError: # Handle retry logic or fallback logger.error("Agent transport died, restarting...")</pre></div></div><!-- SLIDE 51: Settings Isolation --><div class="slide-container"><h2 class="slide-title">Settings Isolation</h2><div class="content-area"><p>Control where Claude reads its configuration from. Vital for testing and secure environments.</p><div class="tiled-content"><div class="tile"><h3>User</h3><p>Global settings (<span class="inline-code" >~/.claude/</span>).</p></div><div class="tile"><h3>Project</h3><p>Repo settings (<span class="inline-code" >./.claude/</span>).</p></div><div class="tile"><h3>Local</h3><p>Git-ignored local overrides.</p></div></div><pre style="margin-top:20px;"># Load NOTHING by default (Clean slate) options=ClaudeAgentOptions(setting_sources=[]) # Load only User settings options=ClaudeAgentOptions(setting_sources=["user"])</pre></div></div><!-- SLIDE 52: Plugins (WITH DIAGRAM) --><div class="slide-container"><h2 class="slide-title">Plugins Architecture</h2><div class="content-area"><div style="display: flex; justify-content: center; gap: 30px; align-items: stretch; margin-bottom: 30px;"><!-- Agent Box --><div style="background: #1c1917; color: white; padding: 30px; border-radius: 12px; width: 250px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><i class="fas fa-brain" style="font-size: 40px; margin-bottom: 15px;"></i><h3>Core Agent</h3><p style="color: #a8a29e; font-size: 14px; text-align: center;">Base Capabilities</p></div><!-- Connector --><div style="display: flex; flex-direction: column; justify-content: center; align-items: center; color: var(--accent-coral);"><i class="fas fa-plug" style="font-size: 30px;"></i><div style="height: 2px; width: 50px; background: var(--accent-coral); margin: 10px 0;"></div><span style="font-size: 12px; font-weight: bold;">LOADS</span></div><!-- Plugins Box --><div style="border: 2px dashed #94a3b8; padding: 20px; border-radius: 12px; background: #f8fafc; flex-grow: 1;"><h3 style="margin-top: 0; display: flex; align-items: center; gap: 10px;"><i class="fas fa-folder-open" style="color: #f59e0b;"></i>Plugin Directory </h3><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;"><div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border: 1px solid #e2e8f0;"><strong>/commands/jira.md</strong><p style="font-size: 12px; margin: 5px 0 0; color: #64748b;">Custom prompts for ticket creation</p></div><div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border: 1px solid #e2e8f0;"><strong>/commands/deploy.md</strong><p style="font-size: 12px; margin: 5px 0 0; color: #64748b;">Macros for deployment steps</p></div></div></div></div><pre>options=ClaudeAgentOptions(plugins=[ {
                "type": "local",
                "path": "/path/to/my/plugins"
            }

            ])</pre></div></div><!-- SLIDE 53: Debugging & Stderr --><div class="slide-container"><h2 class="slide-title">Debugging: The Stderr Callback</h2><div class="content-area"><p>Since the CLI runs in a subprocess,
        you need a way to see its internal logs.</p><pre>def my_logger(line): if "[ERROR]" in line: logger.error(line) else: logger.debug(line) options=ClaudeAgentOptions(stderr=my_logger,
            extra_args= {
                "debug-to-stderr": None
            }

            # Enable debug mode)</pre></div></div><!-- SLIDE 54: SECTION DIVIDER --><div class="slide-container section-divider"><div class="content-area"><h1>Enterprise Deployment</h1><p class="subtitle">Sandboxing & Production</p></div></div><!-- SLIDE 55: Deep Sandboxing: Firecracker VMs (NEW DIAGRAM) --><div class="slide-container"><h2 class="slide-title">Deep Sandboxing: Firecracker VMs</h2><div class="content-area"><p>The SDK's internal sandbox protects the <em>filesystem</em>, but for running untrusted code from users,
 you need <strong>Kernel Isolation</strong>.</p><div style="display: flex; flex-direction: column; gap: 15px; align-items: center; margin-top: 20px;"><!-- Cloud VPC --><div style="width: 80%; border: 2px dashed #3b82f6; padding: 20px; border-radius: 12px; background: #eff6ff; position: relative;"><div style="position: absolute; top: -12px; left: 20px; background: #3b82f6; color: white; padding: 2px 10px; border-radius: 4px; font-size: 12px; font-weight: bold;">AWS / CLOUD VPC</div><div style="display: flex; justify-content: space-around; align-items: center;"><!-- Orchestrator --><div style="text-align: center;"><div style="background: white; padding: 15px; border-radius: 8px; border: 1px solid #bfdbfe; box-shadow: 0 4px 6px rgba(0,0,0,0.05);"><i class="fas fa-network-wired" style="color: #2563eb; font-size: 24px;"></i><div style="font-weight: bold; margin-top: 5px;">Orchestrator</div></div></div><i class="fas fa-arrow-right" style="color: #94a3b8;"></i><!-- Firecracker VM --><div style="background: #1e1e1e; color: white; padding: 20px; border-radius: 12px; width: 300px; position: relative;"><div style="margin-bottom: 10px; font-weight: bold; display: flex; align-items: center; gap: 10px;"><i class="fas fa-box" style="color: #f59e0b;"></i>Firecracker MicroVM </div><!-- Inside VM --><div style="background: #333; padding: 10px; border-radius: 6px; border: 1px solid #555;"><div style="font-family: monospace; font-size: 12px; color: #a8a29e;">Running Process: </div><div style="margin-top: 5px; font-weight: bold; color: white;">Python App+SDK</div></div><!-- Tap Device --><div style="position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); background: #22c55e; color: white; font-size: 10px; padding: 2px 8px; border-radius: 4px;">TAP Device</div></div></div></div><!-- Flow --><div style="text-align: center; font-size: 14px; color: #64748b; max-width: 600px;">Requests enter via API Gateway,
        the Orchestrator spins up a dedicated MicroVM for the session. The SDK runs <strong>inside</strong>the VM,
        ensuring total isolation from the host. </div></div></div></div><!-- SLIDE 56: Isolation Layers --><div class="slide-container"><h2 class="slide-title">Defense in Depth</h2><div class="content-area"><p>Layering protections ensures maximum security for enterprise agents.</p><div class="tiled-content"><div class="tile"><h3>Layer 1: SDK Permissions</h3><p>Controls what tools (Edit/Read) can be called. Prevents accidental file overwrites.</p></div><div class="tile"><h3>Layer 2: Bash Sandbox</h3><p>SDK <span class="inline-code">SandboxSettings</span>. Restricts network access and blocks dangerous syscalls.</p></div><div class="tile"><h3>Layer 3: Firecracker/Docker</h3><p>OS-level isolation. Prevents the agent from accessing host resources if Layer 1 & 2 fail.</p></div></div></div></div><!-- SLIDE 57: Sandboxing (Code) --><div class="slide-container"><h2 class="slide-title">Sandboxing (Bash)</h2><div class="content-area"><p>The SDK supports configuring the Bash sandbox for file and network isolation.</p><pre>sandbox_config= {

            "enabled": True,
            "network": {
                "allowUnixSockets": ["/var/run/docker.sock"],
                    "allowLocalBinding": True
            }

            ,
            "excludedCommands": ["git"] # Git runs outside sandbox
        }

        options=ClaudeAgentOptions(sandbox=sandbox_config)</pre><p class="highlight-box"><strong>Note:</strong>Filesystem restrictions (Read/Write) are handled via Permissions,
        while Sandboxing handles process isolation.</p></div></div><!-- SLIDE 58: Deployment Architecture --><div class="slide-container"><h2 class="slide-title">Deployment Architecture</h2><div class="content-area"><div class="tiled-content"><div class="tile"><div class="icon"><i class="fab fa-docker"></i></div><h3>Containerization</h3><p>Wrap your Python script+SDK in a Docker container. The SDK will pull the CLI binary inside the container.</p></div><div class="tile"><div class="icon"><i class="fas fa-key"></i></div><h3>Secret Management</h3><p>Inject <span class="inline-code">ANTHROPIC_API_KEY</span>via environment variables. Do not hardcode.</p></div><div class="tile"><div class="icon"><i class="fas fa-server"></i></div><h3>Headless Mode</h3><p>Use <span class="inline-code">query()</span>for background jobs. Use <span class="inline-code">ClaudeSDKClient</span>for WebSocket/API backends.</p></div></div></div></div><!-- SLIDE 59: Closing --><div class="slide-container"><div class="content-area" style="text-align: center;"><h1 style="color: var(--accent-coral);">Build with Confidence</h1><p class="subtitle">The Claude Agent SDK provides the harness you need to move from Chatbots to Autonomous Agents.</p><div style="margin-top: 50px;"><div class="metric-box" style="display:inline-block; width:auto; padding:20px 40px;"><div class="metric-number" style="font-size:24px;">pip install claude-agent-sdk</div></div></div><p style="margin-top:30px;"><strong>docs.anthropic.com/en/docs/claude-code/sdk</strong></p></div></div><!-- JAVASCRIPT LOGIC --><script>let currentSlide=0;
        const slides=document.querySelectorAll('.slide-container');
        const counter=document.getElementById('slideCounter');

        // Footer Template Logic
        const footerTemplate=document.getElementById('footer-template').innerHTML;

        function updateSlide() {
            slides.forEach((slide, index)=> {
                    slide.classList.remove('active');

                    // Add footer if missing
                    if ( !slide.querySelector('.slide-footer')) {
                        const footerDiv=document.createElement('div');
                        footerDiv.innerHTML=footerTemplate;
                        const footer=footerDiv.querySelector('.slide-footer');

                        footer.querySelector('.page-num').innerText=`$ {
                            String(index + 1).padStart(2, '0')
                        }

                        / $ {
                            slides.length
                        }

                        `;
                        slide.appendChild(footer);
                    }

                    if (index===currentSlide) {
                        slide.classList.add('active');
                    }
                });

            counter.innerText=`$ {
                String(currentSlide + 1).padStart(2, '0')
            }

            / $ {
                slides.length
            }

            `;
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                currentSlide++;
                updateSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                updateSlide();
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e)=> {
                if (e.key==='ArrowRight' || e.key===' ') {
                    nextSlide();
                }

                else if (e.key==='ArrowLeft') {
                    prevSlide();
                }
            });

        // Auto-scaling logic
        function resizeContent() {
            const width=1280;
            const height=720;
            const windowWidth=window.innerWidth;
            const windowHeight=window.innerHeight;

            // Calculate scale based on the window size
            const scaleX=windowWidth / width;
            const scaleY=windowHeight / height;

            // Use the smaller scale to fit content, with a small margin (0.9)
            let scale=Math.min(scaleX, scaleY) * 0.9;

            // Set the CSS variable
            document.documentElement.style.setProperty('--scale', scale);
        }

        // Initial setup
        resizeContent();
        updateSlide();

        // Listen for resize events
        window.addEventListener('resize', resizeContent);
        </script></body></html>